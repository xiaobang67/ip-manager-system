import{_ as q,l as z,n as Q,q as F,J as G,r as b,o as L,z as E,w as n,b as u,a,f as k,x as V,c as T,K as oe,d as R,C as se,F as ie,L as re,E as I,A as H,k as de,t as ue,G as ce,B as me,v as ge,M as J,y as fe}from"./index-37bb85c5-1758196715214.js";import{s as M}from"./subnet-8903080f-1758196715489.js";import{A as _e}from"./AppLayout-1ceae357-1758196715485.js";function j(m,e,c=!1){let t;return function(...o){const _=()=>{t=null,c||m.apply(this,o)},f=c&&!t;clearTimeout(t),t=setTimeout(_,e),f&&m.apply(this,o)}}const be={name:"SubnetDialog",props:{visible:{type:Boolean,default:!1},subnet:{type:Object,default:null},mode:{type:String,default:"create"}},emits:["update:visible","success"],setup(m,{emit:e}){const c=z(),t=z(!1),s=Q({network:"",netmask:"",gateway:"",vlan_id:null,location:"",description:""}),o=Q({isValid:!1,message:"",overlapping_subnets:[]}),_={network:[{required:!0,message:"请输入网段",trigger:"blur"},{validator:(S,l,i)=>{if(!l){i();return}if(/^(\d{1,3}\.){3}\d{1,3}\/\d{1,2}$/.test(l)){const p=parseInt(l.split("/")[1]);p>=8&&p<=30?i():i(new Error("掩码位数必须在8-30之间"))}else i(new Error("请输入CIDR格式的网段，如 192.168.1.0/24"))},trigger:"blur"}],netmask:[{validator:(S,l,i)=>{if(s.network&&s.network.includes("/")){i();return}if(!l){i(new Error("请输入子网掩码"));return}const P=/^(\d{1,3}\.){3}\d{1,3}$/,p=/^\d{1,2}$/;P.test(l)||p.test(l)?i():i(new Error("请输入正确的子网掩码格式（如 255.255.255.0 或 24）"))},trigger:"blur"}],gateway:[{required:!0,message:"请输入网关地址",trigger:"blur"},{validator:(S,l,i)=>{if(!l){i(new Error("网关地址为必填项"));return}/^(\d{1,3}\.){3}\d{1,3}$/.test(l)?l.split(".").every(g=>{const B=parseInt(g);return B>=0&&B<=255})?i():i(new Error("IP地址格式不正确")):i(new Error("请输入正确的IP地址格式"))},trigger:"blur"}],vlan_id:[{required:!0,message:"请输入VLAN ID",trigger:"blur"},{type:"number",min:1,max:4094,message:"VLAN ID必须在1-4094范围内",trigger:"blur"}]},f=F(()=>m.mode==="create"?"创建网段":"编辑网段"),v=j(async()=>{var i,P,p;if(!s.network){o.isValid=!1,o.message="",o.overlapping_subnets=[];return}if(!/^(\d{1,3}\.){3}\d{1,3}\/\d{1,2}$/.test(s.network)){o.isValid=!1,o.message="请输入CIDR格式的网段，如 192.168.1.0/24",o.overlapping_subnets=[];return}const l=parseInt(s.network.split("/")[1]);if(l<8||l>30){o.isValid=!1,o.message="掩码位数必须在8-30之间",o.overlapping_subnets=[];return}try{if(s.network.includes("/")&&!s.netmask){const g=s.network.split("/");g.length===2&&(s.netmask=g[1])}const N=await M.validateSubnet({network:s.network,netmask:s.netmask,gateway:s.gateway,exclude_id:m.mode==="edit"?(i=m.subnet)==null?void 0:i.id:null});o.isValid=N.is_valid,o.message=N.message,o.overlapping_subnets=N.overlapping_subnets||[]}catch(N){o.isValid=!1,o.message=((p=(P=N.response)==null?void 0:P.data)==null?void 0:p.detail)||"网段验证失败",o.overlapping_subnets=[]}},500),h=()=>{m.subnet&&m.mode==="edit"?Object.assign(s,{network:m.subnet.network||"",netmask:m.subnet.netmask||"",gateway:m.subnet.gateway||"",vlan_id:m.subnet.vlan_id||null,location:m.subnet.location||"",description:m.subnet.description||""}):Object.assign(s,{network:"",netmask:"",gateway:"",vlan_id:null,location:"",description:""}),o.isValid=!1,o.message="",o.overlapping_subnets=[]},w=async()=>{var S,l;if(c.value)try{if(await c.value.validate(),!o.isValid){I.error("请先解决网段验证问题");return}t.value=!0;const i={network:s.network,netmask:s.netmask,gateway:s.gateway||null,vlan_id:s.vlan_id||null,location:s.location||null,description:s.description||null};m.mode==="create"?(await M.createSubnet(i),I.success("网段创建成功")):(await M.updateSubnet(m.subnet.id,i),I.success("网段更新成功")),e("success"),C()}catch(i){if((l=(S=i.response)==null?void 0:S.data)!=null&&l.detail)if(Array.isArray(i.response.data.detail)){const P=i.response.data.detail.map(p=>p.msg).join(", ");I.error(P)}else I.error(i.response.data.detail);else I.error("操作失败: "+i.message)}finally{t.value=!1}},C=()=>{e("update:visible",!1),H(()=>{var S;(S=c.value)==null||S.resetFields(),h()})};return G(()=>m.visible,S=>{S&&H(()=>{h(),m.mode==="edit"&&s.network&&v()})}),G(()=>s.network,()=>{s.network?v():(o.isValid=!1,o.message="",o.overlapping_subnets=[])}),{formRef:c,submitting:t,form:s,rules:_,networkValidation:o,dialogTitle:f,validateNetwork:v,handleSubmit:w,handleClose:C}}},ve={class:"dialog-footer"};function pe(m,e,c,t,s,o){const _=b("el-input"),f=b("el-form-item"),v=b("el-input-number"),h=b("el-alert"),w=b("el-form"),C=b("el-button"),S=b("el-dialog");return L(),E(S,{"model-value":c.visible,title:t.dialogTitle,width:"600px","onUpdate:modelValue":e[7]||(e[7]=l=>m.$emit("update:visible",l)),onClose:t.handleClose},{footer:n(()=>[u("div",ve,[a(C,{onClick:t.handleClose},{default:n(()=>[...e[9]||(e[9]=[k("取消",-1)])]),_:1},8,["onClick"]),a(C,{type:"info",loading:t.submitting,disabled:!t.networkValidation.isValid,onClick:t.handleSubmit},{default:n(()=>[k(V(c.mode==="create"?"创建":"更新"),1)]),_:1},8,["loading","disabled","onClick"])])]),default:n(()=>[a(w,{ref:"formRef",model:t.form,rules:t.rules,"label-width":"100px",onSubmit:e[6]||(e[6]=re(()=>{},["prevent"]))},{default:n(()=>[a(f,{label:"网段",prop:"network"},{default:n(()=>[a(_,{modelValue:t.form.network,"onUpdate:modelValue":e[0]||(e[0]=l=>t.form.network=l),placeholder:"请输入CIDR格式，如 192.168.1.0/24",onBlur:t.validateNetwork},null,8,["modelValue","onBlur"]),t.networkValidation.message?(L(),T("div",{key:0,class:oe(t.networkValidation.isValid?"validation-success":"validation-error")},V(t.networkValidation.message),3)):R("",!0)]),_:1}),a(f,{label:"子网掩码",prop:"netmask"},{default:n(()=>[a(_,{modelValue:t.form.netmask,"onUpdate:modelValue":e[1]||(e[1]=l=>t.form.netmask=l),placeholder:"请输入子网掩码，如 255.255.255.0"},null,8,["modelValue"])]),_:1}),a(f,{label:"网关",prop:"gateway"},{default:n(()=>[a(_,{modelValue:t.form.gateway,"onUpdate:modelValue":e[2]||(e[2]=l=>t.form.gateway=l),placeholder:"请输入网关地址（必填）"},null,8,["modelValue"])]),_:1}),a(f,{label:"VLAN ID",prop:"vlan_id"},{default:n(()=>[a(v,{modelValue:t.form.vlan_id,"onUpdate:modelValue":e[3]||(e[3]=l=>t.form.vlan_id=l),min:1,max:4094,placeholder:"请输入VLAN ID（必填）",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(f,{label:"位置",prop:"location"},{default:n(()=>[a(_,{modelValue:t.form.location,"onUpdate:modelValue":e[4]||(e[4]=l=>t.form.location=l),placeholder:"请输入位置信息（可选）"},null,8,["modelValue"])]),_:1}),a(f,{label:"描述",prop:"description"},{default:n(()=>[a(_,{modelValue:t.form.description,"onUpdate:modelValue":e[5]||(e[5]=l=>t.form.description=l),type:"textarea",rows:3,placeholder:"请输入网段描述（可选）"},null,8,["modelValue"])]),_:1}),t.networkValidation.overlapping_subnets&&t.networkValidation.overlapping_subnets.length>0?(L(),E(h,{key:0,title:"网段重叠警告",type:"warning",closable:!1,"show-icon":""},{default:n(()=>[e[8]||(e[8]=u("p",null,"检测到与以下网段重叠：",-1)),u("ul",null,[(L(!0),T(ie,null,se(t.networkValidation.overlapping_subnets,l=>(L(),T("li",{key:l.id},V(l.network)+" - "+V(l.description||"无描述"),1))),128))])]),_:1})):R("",!0)]),_:1},8,["model","rules"])]),_:1},8,["model-value","title","onClose"])}const we=q(be,[["render",pe],["__scopeId","data-v-ff7a4d3a"]]);const ye={name:"SubnetDetailDialog",props:{visible:{type:Boolean,default:!1},subnet:{type:Object,default:null}},emits:["update:visible","edit"],setup(m,{emit:e}){const c=F(()=>{var v;return!((v=m.subnet)!=null&&v.ip_count)||m.subnet.ip_count===0?0:Math.round(m.subnet.allocated_count/m.subnet.ip_count*100)}),t=F(()=>{const v=c.value;return v>=90?"#f56c6c":v>=70?"#e6a23c":"#67c23a"});return{usagePercentage:c,usageColor:t,formatDate:v=>new Date(v).toLocaleString("zh-CN"),refreshStats:()=>{I.info("统计数据已刷新")},viewAllIPs:()=>{I.info("跳转到网络资源管理页面功能待实现")},editSubnet:()=>{e("edit"),e("update:visible",!1)}}}},ke={key:0,class:"subnet-detail"},Se={key:1},Ve={class:"card-header"},Ce={class:"stat-item"},he={class:"stat-value"},De={class:"stat-item"},Ie={class:"stat-value allocated"},Pe={class:"stat-item"},Ae={class:"stat-value available"},xe={class:"stat-item"},ze={class:"stat-value"},Ue={class:"usage-progress"},Le={class:"card-header"},Ne={class:"ip-preview"},Be={class:"dialog-footer"};function Me(m,e,c,t,s,o){const _=b("el-tag"),f=b("el-descriptions-item"),v=b("el-descriptions"),h=b("el-card"),w=b("el-button"),C=b("el-col"),S=b("el-row"),l=b("el-progress"),i=b("el-alert"),P=b("el-dialog");return L(),E(P,{"model-value":c.visible,title:"网段详情",width:"800px","onUpdate:modelValue":e[1]||(e[1]=p=>m.$emit("update:visible",p))},{footer:n(()=>[u("div",Be,[a(w,{onClick:e[0]||(e[0]=p=>m.$emit("update:visible",!1))},{default:n(()=>[...e[12]||(e[12]=[k("关闭",-1)])]),_:1}),a(w,{type:"info",onClick:t.editSubnet},{default:n(()=>[...e[13]||(e[13]=[k("编辑网段",-1)])]),_:1},8,["onClick"])])]),default:n(()=>[c.subnet?(L(),T("div",ke,[a(h,{class:"detail-card"},{header:n(()=>[...e[2]||(e[2]=[u("div",{class:"card-header"},[u("span",null,"基本信息")],-1)])]),default:n(()=>[a(v,{column:2,border:""},{default:n(()=>[a(f,{label:"网段"},{default:n(()=>[a(_,{type:"primary",size:"large"},{default:n(()=>[k(V(c.subnet.network),1)]),_:1})]),_:1}),a(f,{label:"子网掩码"},{default:n(()=>[k(V(c.subnet.netmask),1)]),_:1}),a(f,{label:"网关"},{default:n(()=>[k(V(c.subnet.gateway||"未设置"),1)]),_:1}),a(f,{label:"VLAN ID"},{default:n(()=>[c.subnet.vlan_id?(L(),E(_,{key:0,type:"info"},{default:n(()=>[k(V(c.subnet.vlan_id),1)]),_:1})):(L(),T("span",Se,"未设置"))]),_:1}),a(f,{label:"位置"},{default:n(()=>[k(V(c.subnet.location||"未设置"),1)]),_:1}),a(f,{label:"创建时间"},{default:n(()=>[k(V(t.formatDate(c.subnet.created_at)),1)]),_:1}),a(f,{label:"更新时间"},{default:n(()=>[k(V(t.formatDate(c.subnet.updated_at)),1)]),_:1}),a(f,{label:"描述",span:2},{default:n(()=>[k(V(c.subnet.description||"无描述"),1)]),_:1})]),_:1})]),_:1}),a(h,{class:"detail-card"},{header:n(()=>[u("div",Ve,[e[4]||(e[4]=u("span",null,"IP地址使用统计",-1)),a(w,{size:"small",type:"info",onClick:t.refreshStats},{default:n(()=>[...e[3]||(e[3]=[k("刷新",-1)])]),_:1},8,["onClick"])])]),default:n(()=>[a(S,{gutter:20},{default:n(()=>[a(C,{span:6},{default:n(()=>[u("div",Ce,[u("div",he,V(c.subnet.ip_count||0),1),e[5]||(e[5]=u("div",{class:"stat-label"},"总IP数",-1))])]),_:1}),a(C,{span:6},{default:n(()=>[u("div",De,[u("div",Ie,V(c.subnet.allocated_count||0),1),e[6]||(e[6]=u("div",{class:"stat-label"},"使用中",-1))])]),_:1}),a(C,{span:6},{default:n(()=>[u("div",Pe,[u("div",Ae,V(c.subnet.available_count||0),1),e[7]||(e[7]=u("div",{class:"stat-label"},"可用",-1))])]),_:1}),a(C,{span:6},{default:n(()=>[u("div",xe,[u("div",ze,V(t.usagePercentage)+"%",1),e[8]||(e[8]=u("div",{class:"stat-label"},"使用率",-1))])]),_:1})]),_:1}),u("div",Ue,[a(l,{percentage:t.usagePercentage,color:t.usageColor,"stroke-width":12},null,8,["percentage","color"])])]),_:1}),a(h,{class:"detail-card"},{header:n(()=>[u("div",Le,[e[10]||(e[10]=u("span",null,"IP地址列表",-1)),a(w,{size:"small",type:"info",onClick:t.viewAllIPs},{default:n(()=>[...e[9]||(e[9]=[k("查看全部",-1)])]),_:1},8,["onClick"])])]),default:n(()=>[u("div",Ne,[a(i,{title:"网络资源管理功能",type:"info",closable:!1,"show-icon":""},{default:n(()=>[u("p",null,"此网段包含 "+V(c.subnet.ip_count||0)+" 个IP地址。",1),e[11]||(e[11]=u("p",null,'您可以点击"查看全部"按钮查看详细的IP地址分配情况。',-1))]),_:1})])]),_:1})])):R("",!0)]),_:1},8,["model-value"])}const Fe=q(ye,[["render",Me],["__scopeId","data-v-18162d84"]]);const Ee={name:"SubnetManagement",components:{AppLayout:_e,SubnetDialog:we,SubnetDetailDialog:Fe},setup(){const m=de(),e=F(()=>m.getters["auth/currentUser"]),c=F(()=>m.getters["auth/userRole"]),t=F(()=>{var r;return((r=c.value)==null?void 0:r.toLowerCase())==="admin"}),s=z(!1),o=z([]),_=z(0),f=z(1),v=z(20),h=z(""),w=z(""),C=z(!1),S=z(!1),l=z("create"),i=z(null),P=F(()=>h.value.trim()!==""),p=async()=>{var r,D,U;s.value=!0;try{const y={skip:(f.value-1)*v.value,limit:v.value};let d;if(P.value?d=await M.searchSubnets({...y,q:h.value.trim()}):d=await M.getSubnets(y),!d){o.value=[],_.value=0;return}let A=[],x=0;d.subnets&&Array.isArray(d.subnets)?(A=d.subnets,x=d.total||0):(r=d.data)!=null&&r.subnets&&Array.isArray(d.data.subnets)?(A=d.data.subnets,x=d.data.total||0):Array.isArray(d)?(A=d,x=d.length):d.data&&Array.isArray(d.data)?(A=d.data,x=d.data.length):(A=[],x=0),o.value=A,_.value=x}catch(y){o.value=[],_.value=0,I.error("获取网段列表失败: "+(((U=(D=y.response)==null?void 0:D.data)==null?void 0:U.detail)||y.message))}finally{s.value=!1}},N=j(()=>{f.value=1,p()},300),g=j(async()=>{var r,D,U;if(w.value){s.value=!0;try{const y={vlan_id:parseInt(w.value),skip:(f.value-1)*v.value,limit:v.value},d=await M.searchSubnets(y);if(!d){o.value=[],_.value=0;return}let A=[],x=0;d.subnets&&Array.isArray(d.subnets)?(A=d.subnets,x=d.total||0):(r=d.data)!=null&&r.subnets&&Array.isArray(d.data.subnets)?(A=d.data.subnets,x=d.data.total||0):Array.isArray(d)?(A=d,x=d.length):d.data&&Array.isArray(d.data)?(A=d.data,x=d.data.length):(A=[],x=0),o.value=A,_.value=x}catch(y){o.value=[],_.value=0,I.error("按VLAN过滤失败: "+(((U=(D=y.response)==null?void 0:D.data)==null?void 0:U.detail)||y.message))}finally{s.value=!1}}else p()},300),B=()=>{h.value="",w.value="",f.value=1,p()},K=r=>{v.value=r,f.value=1,p()},W=r=>{f.value=r,p()},X=({column:r,prop:D,order:U})=>{},Y=()=>{i.value=null,l.value="create",C.value=!0},Z=r=>{i.value=r,S.value=!0},$=r=>{i.value=r,l.value="edit",C.value=!0},ee=async r=>{var D,U;if(r.allocated_count>0){I.warning("该网段存在使用中的IP地址，无法删除");return}try{await J.confirm(`确定要删除网段 ${r.network} 吗？此操作不可恢复。`,"确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await M.deleteSubnet(r.id),I.success("网段删除成功"),p()}catch(y){y!=="cancel"&&I.error("删除网段失败: "+(((U=(D=y.response)==null?void 0:D.data)==null?void 0:U.detail)||y.message))}},te=async r=>{var D,U;try{await J.confirm(`确定要同步网段 ${r.network} 的IP地址吗？

此操作将：
• 根据CIDR格式重新生成正确的IP地址范围
• 添加缺失的IP地址
• 删除不属于该网段的未分配IP地址
• 保留使用中的IP地址`,"确认同步IP地址",{confirmButtonText:"确定同步",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!1}),r.syncing=!0;const y=await M.syncSubnetIPs(r.id);I.success({message:`IP地址同步完成！新增 ${y.stats.added} 个，删除 ${y.stats.removed} 个，保持 ${y.stats.kept} 个`,duration:5e3}),p()}catch(y){y!=="cancel"&&I.error("同步IP地址失败: "+(((U=(D=y.response)==null?void 0:D.data)==null?void 0:U.detail)||y.message))}finally{r.syncing=!1}},ae=()=>{p()},ne=r=>new Date(r).toLocaleString("zh-CN"),O=r=>!r.ip_count||r.ip_count===0?0:Math.round(r.allocated_count/r.ip_count*100),le=r=>{const D=O(r);return D>=90?"#f56c6c":D>=70?"#e6a23c":"#67c23a"};return ue(()=>{p()}),{Plus:ce,Search:me,currentUser:e,userRole:c,isAdmin:t,loading:s,subnets:o,total:_,currentPage:f,pageSize:v,searchQuery:h,vlanFilter:w,dialogVisible:C,detailDialogVisible:S,dialogMode:l,currentSubnet:i,fetchSubnets:p,handleSearch:N,handleVlanFilter:g,resetFilters:B,handleSizeChange:K,handleCurrentChange:W,handleSortChange:X,showCreateDialog:Y,viewSubnet:Z,editSubnet:$,deleteSubnet:ee,syncSubnetIPs:te,handleDialogSuccess:ae,formatDate:ne,getUsagePercentage:O,getUsageColor:le}}},Te={class:"subnet-management"},Re={class:"page-header"},je={class:"header-actions"},qe={class:"theme-search-section"},Oe={class:"subnet-list"},Qe={class:"ip-usage"},Ge={class:"usage-text"},He={class:"pagination"};function Je(m,e,c,t,s,o){const _=b("el-button"),f=b("el-input"),v=b("el-col"),h=b("el-row"),w=b("el-table-column"),C=b("el-progress"),S=b("el-table"),l=b("el-pagination"),i=b("SubnetDialog"),P=b("SubnetDetailDialog"),p=b("AppLayout"),N=ge("loading");return L(),E(p,null,{default:n(()=>[u("div",Te,[u("div",Re,[e[7]||(e[7]=u("h1",null,"网段管理",-1)),u("div",je,[a(_,{type:"primary",onClick:t.showCreateDialog,icon:t.Plus},{default:n(()=>[...e[6]||(e[6]=[k(" 添加网段 ",-1)])]),_:1},8,["onClick","icon"])])]),u("div",qe,[a(h,{gutter:20},{default:n(()=>[a(v,{span:8},{default:n(()=>[a(f,{modelValue:t.searchQuery,"onUpdate:modelValue":e[0]||(e[0]=g=>t.searchQuery=g),placeholder:"搜索网段、描述、位置...","prefix-icon":t.Search,onInput:t.handleSearch,clearable:""},null,8,["modelValue","prefix-icon","onInput"])]),_:1}),a(v,{span:4},{default:n(()=>[a(f,{modelValue:t.vlanFilter,"onUpdate:modelValue":e[1]||(e[1]=g=>t.vlanFilter=g),placeholder:"VLAN ID",type:"number",onInput:t.handleVlanFilter,clearable:""},null,8,["modelValue","onInput"])]),_:1}),a(v,{span:4},{default:n(()=>[a(_,{type:"info",onClick:t.resetFilters},{default:n(()=>[...e[8]||(e[8]=[k("重置",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),u("div",Oe,[fe((L(),E(S,{data:t.subnets,stripe:"",style:{width:"100%"},onSortChange:t.handleSortChange},{default:n(()=>[a(w,{prop:"network",label:"网段",width:"150",sortable:"",align:"center"}),a(w,{prop:"netmask",label:"子网掩码",width:"120",align:"center"}),a(w,{prop:"gateway",label:"网关",width:"120",align:"center"}),a(w,{prop:"vlan_id",label:"VLAN ID",width:"80",sortable:"",align:"center"}),a(w,{prop:"location",label:"位置",width:"120",align:"center"}),a(w,{prop:"description",label:"描述","min-width":"150","show-overflow-tooltip":"",align:"center"}),a(w,{label:"IP使用情况",width:"200",align:"center"},{default:n(g=>[u("div",Qe,[u("div",Ge,V(g.row.allocated_count||0)+" / "+V(g.row.ip_count||0),1),a(C,{percentage:t.getUsagePercentage(g.row),color:t.getUsageColor(g.row),"stroke-width":6,"show-text":!1},null,8,["percentage","color"])])]),_:1}),a(w,{prop:"created_at",label:"创建时间",width:"160",sortable:"",align:"center"},{default:n(g=>[k(V(t.formatDate(g.row.created_at)),1)]),_:1}),a(w,{label:"操作",width:"280",fixed:"right",align:"center"},{default:n(g=>[a(_,{size:"small",type:"info",onClick:B=>t.viewSubnet(g.row)},{default:n(()=>[...e[9]||(e[9]=[k(" 查看 ",-1)])]),_:2},1032,["onClick"]),a(_,{size:"small",type:"info",onClick:B=>t.editSubnet(g.row)},{default:n(()=>[...e[10]||(e[10]=[k(" 编辑 ",-1)])]),_:2},1032,["onClick"]),a(_,{size:"small",type:"warning",onClick:B=>t.syncSubnetIPs(g.row),loading:g.row.syncing},{default:n(()=>[...e[11]||(e[11]=[k(" 同步IP ",-1)])]),_:2},1032,["onClick","loading"]),t.isAdmin?(L(),E(_,{key:0,size:"small",type:"danger",plain:"",onClick:B=>t.deleteSubnet(g.row),disabled:g.row.allocated_count>0},{default:n(()=>[...e[12]||(e[12]=[k(" 删除 ",-1)])]),_:2},1032,["onClick","disabled"])):R("",!0)]),_:1})]),_:1},8,["data","onSortChange"])),[[N,t.loading]]),u("div",He,[a(l,{"current-page":t.currentPage,"onUpdate:currentPage":e[2]||(e[2]=g=>t.currentPage=g),"page-size":t.pageSize,"onUpdate:pageSize":e[3]||(e[3]=g=>t.pageSize=g),"page-sizes":[10,20,50,100],total:t.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:t.handleSizeChange,onCurrentChange:t.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])]),a(i,{visible:t.dialogVisible,"onUpdate:visible":e[4]||(e[4]=g=>t.dialogVisible=g),subnet:t.currentSubnet,mode:t.dialogMode,onSuccess:t.handleDialogSuccess},null,8,["visible","subnet","mode","onSuccess"]),a(P,{visible:t.detailDialogVisible,"onUpdate:visible":e[5]||(e[5]=g=>t.detailDialogVisible=g),subnet:t.currentSubnet},null,8,["visible","subnet"])])]),_:1})}const Ye=q(Ee,[["render",Je],["__scopeId","data-v-d9c18993"]]);export{Ye as default};
